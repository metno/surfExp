[general]
  cycle = "CY49t2"
  csc = "HARMONIE_AROME"

[general.times]
  cycle_length = "PT24H"
  forecast_range = "PT0H"

[forcing.args]
  analysis = false
  co2 = "constant"
  dir_sw_converter = "none"
  geo_input_file = "@climdir@/domain.json"
  input_format = "netcdf"
  interpolation = "bilinear"
  lw_converter = "none"
  modify_forcing = true
  of = "@forcing_dir@/FORCING_DT.nc"
  ps_converter = "none"
  qa_converter = "td2q"
  rain_converter = "totalprec"
  sca_sw = "constant"
  snow_converter = "none"
  timestep = 3600
  uref = "screen"
  uval = "constant"
  wind_converter = "windspeed"
  wind_dir_converter = "winddir"
  zref = "screen"
  zsoro_converter = "phi2m"
  zval = "constant"
  diskless_write = true


[forcing.default]
  user_config = "@PLUGIN_HOME@/surfexp/data/config/forcing/forcing_dt_config.yml"
  force = true

[forcing.an_forcing]
  user_config = "@PLUGIN_HOME@/surfexp/data/config/forcing/forcing_dt_config_an.yml"

[forcing.args.an_forcing]
  analysis = false
  co2 = "constant"
  dir_sw_converter = "none"
  geo_input_file = "@climdir@/domain.json"
  input_format = "surfex"
  interpolation = "bilinear"
  lw_converter = "none"
  modify_forcing = false
  of = "@forcing_dir@/FORCING.nc"
  pattern = "@forcing_dir@/FORCING_DT.nc"
  ps_converter = "none"
  qa = "netcdf"
  qa_converter = "rh2q_z"
  rain_converter = "none"
  sca_sw = "constant"
  snow_converter = "none"
  ta = "netcdf"
  ta_converter = "none"
  timestep = 3600
  uref = "screen"
  uval = "constant"
  wind_converter = "none"
  winddir_converter = "none"
  zref = "screen"
  zsoro_converter = "none"
  zval = "constant"
  diskless_write = true

[compile]
  build = false

[troika]
  config_file = "@PLUGIN_HOME@/surfexp/data/config/troika/troika_config.yml"

[suite_control]
  create_static_data = true
  create_time_dependent_suite = true
  do_marsprep = true
  do_pgd = false
  do_prep = false
  do_soil = true
  interpolate2grid = true
  do_verification = true

[pgd]
  clay_format = "direct"
  clay_input = "soilgrid"
  deode = true
  blocks = []

[prep]
  deode = true
  blocks = []

[offline]
  deode = false
  blocks = [
  "io",
  "constants",
  "treedrag",
  "ecoclimap_sg",
  "offline",
  "offline_sso",
  "offline_sso_none",
  "offline_seaice",
  "offline_isba",
  "offline_teb",
  "offline_selected_output"
  ]

[soda]
  blocks = ["io", "treedrag", "ecoclimap_sg", "soda"]

[extractsqlite]
  station_list = "@PLUGIN_HOME@/surfexp/data/config/stationlist/stationlist_dt.json"

[observations]
  filepattern = "/hpcperm/snh02/DE_observations/mergedBufr/@YYYY@/@MM@/@DD@/synop_@YYYY@@MM@@DD@@HH@.DAT"

[observations.qc]
  tests = ["domain", "nometa", "plausibility"]

[initial_conditions.fg4oi.an_forcing]

[initial_conditions.fg4oi.an_forcing.t2m]
  inputfile = "@casedir@/grib/dt_@YYYY@@MM@@DD@@HH@+@LL@.grib1"
  inputtype = "grib1"
  converter = "none"
  parameter = "167"
  typeOfLevel = "1"
  timeRangeIndicator = "0"
  level = "0"
  basetime = "@VALIDTIME@"
  outfile-var = "air_temperature_2m"
  fcint = "86400"
  file-inc = "86400"

[initial_conditions.fg4oi.an_forcing.rh2m]
  inputfile = "@casedir@/grib/dt_@YYYY@@MM@@DD@@HH@+@LL@.grib1"
  inputtype = "grib1"
  converter = "none"
  parameter = "52"
  typeOfLevel = "1"
  timeRangeIndicator = "0"
  level = "0"
  basetime = "@VALIDTIME@"
  outfile-var = "relative_humidity_2m"
  fcint = "86400"
  file-inc = "86400"

[initial_conditions.fg4oi.an_forcing.altitude]
  inputfile = "@climdir@/PGD_@DECADE@.nc"
  inputtype = "surfex"
  converter = "none"
  variable = "ZS"
  basetime = "@BASETIME@"
  outfile-var = "altitude"

[initial_conditions.fg4oi.an_forcing.laf]
  converter = "nature_town"
  converter-variables = ["nature", "town"]
  nature-inputfile = "@climdir@/PGD_@DECADE@.nc"
  nature-inputtype = "surfex"
  nature-variable = "FRAC_NATURE"
  nature-basetime = "@BASETIME@"
  town-inputfile = "@climdir@/PGD_@DECADE@.nc"
  town-inputtype = "surfex"
  town-variable = "FRAC_NATURE"
  town-basetime = "@BASETIME@"
  outfile-var = "land_area_fraction"
